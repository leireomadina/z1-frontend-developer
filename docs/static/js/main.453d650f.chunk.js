(this["webpackJsonptypescript-react-app"]=this["webpackJsonptypescript-react-app"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),s=c(16),r=c.n(s),i=(c(23),c(14)),o=(c(24),c(1)),l=function(){return Object(o.jsx)("header",{className:"home-header",children:Object(o.jsx)("h1",{className:"home-header__title",children:"BankClient"})})},d=(c(26),c.p+"static/media/ID-empty-card.a826b8dc.svg"),j=c(7),u=function(e){var t=e.imageSrc;return Object(o.jsx)("main",{className:"home-main",children:Object(o.jsxs)("section",{className:"id-card",children:[Object(o.jsx)("h2",{className:"id-card__title",children:"Scan your ID"}),Object(o.jsx)("p",{className:"id-card__text",children:"Take a picture. It may take some time to validate your personal information."}),Object(o.jsxs)("div",{className:"id-card__img-container",children:[Object(o.jsx)("img",{src:t||d,alt:"Empty ID card",title:"Empty ID card",className:t?"accepted":"id-card__image"}),Object(o.jsx)(j.b,{to:"/scanner",children:Object(o.jsx)("button",{type:"button",onClick:e.openScanner,className:t?"hidden":"id-card__btn",children:"Take picture"})})]})]})})},m=c(18),b=c.n(m),h=(c(32),{facingMode:"user"}),O=function(e){var t=e.imgSrc,c=e.setImgSrc,a=Object(n.useRef)(null),s=Object(n.useCallback)((function(){var t,c=null===(t=a.current)||void 0===t?void 0:t.getScreenshot();e.handleScanner(c)}),[a,c]);return Object(n.useEffect)((function(){setTimeout((function(){s()}),2e3)}),[]),Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("main",{children:Object(o.jsxs)("section",{className:"scanner",children:[Object(o.jsx)("h1",{className:"scanner__title",children:"Take picture"}),Object(o.jsx)("p",{className:"scanner__text",children:"Fit your ID card inside the frame. The picture will be taken automatically."}),t&&Object(o.jsx)("img",{src:t,alt:"User cam result",title:"User cam result"}),Object(o.jsx)("div",{className:"scanner__video-container",children:Object(o.jsx)(b.a,{audio:!1,videoConstraints:h,screenshotFormat:"image/jpeg",className:"scanner__video",ref:a})}),Object(o.jsx)(j.b,{to:"/",children:Object(o.jsx)("button",{type:"button",className:"scanner__btn",children:"Cancel"})})]})})})},x={method:"POST",body:JSON.stringify({summary:{outcome:""}})},p=c(2),f=(c(33),function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(!1),r=Object(i.a)(s,2),d=(r[0],r[1]),j=Object(n.useEffect)((function(){fetch("https://front-exercise.z1.digital/evaluations",x).then((function(e){return e.json()})).then((function(e){return e.summary.outcome})).then((function(e){"Approved"===e?d(!0):"Too Much Glare"===e&&d(!1)})).catch(console.error)}),[]),m=function(e){a(e)};return Object(o.jsx)("div",{className:"home",children:Object(o.jsxs)(p.d,{children:[Object(o.jsxs)(p.b,{exact:!0,path:"/",children:[Object(o.jsx)(l,{}),Object(o.jsx)(u,{openScanner:j,handleScanner:m,imageSrc:c})]}),Object(o.jsx)(p.b,{children:c?Object(o.jsx)(p.a,{to:"/"}):Object(o.jsx)(O,{handleScanner:m,imgSrc:c,setImgSrc:a})})]})})}),g=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,35)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),n(e),a(e),s(e),r(e)}))};r.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(j.a,{children:Object(o.jsx)(f,{})})}),document.getElementById("root")),g()}},[[34,1,2]]]);
//# sourceMappingURL=main.453d650f.chunk.js.map